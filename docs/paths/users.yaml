/auth/register:
  post:
    summary: Register a new user
    tags: [Auth]
    requestBody:
      required: true
      content:
        multipart/form-data:   # ðŸ”¥ Accepts files + fields
          schema:
            type: object
            required: [name, email, password, role]
            properties:
              name:
                type: string
                example: Khaled Mansour
              email:
                type: string
                format: email
                example: patient@test.com
              password:
                type: string
                format: password
                example: 123456
              age:
                type: integer
                example: 28
              gender:
                type: string
                enum: [male, female, other]
                example: male
              role:
                type: string
                enum: [admin, doctor, patient]
                example: patient
              specialization:
                type: string
                example: Cardiologist
              contactNumber:
                type: string
                example: "+216-55-123-456"
              addressText:
                type: string
                example: "123 Main St, Tunis"
              addressCoordinates:
                type: string
                example: "36.8065,10.1815"
              avatar:        # ðŸ”¥ file upload
                type: string
                format: binary
    responses:
      "201":
        description: User registered successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  example: User registered successfully
                token:
                  type: string
                user:
                  type: object
                  properties:
                    id:
                      type: integer
                      example: 1
                    name:
                      type: string
                      example: Khaled Mansour
                    email:
                      type: string
                      example: patient@test.com
                    role:
                      type: string
                      example: patient
                    avatar:     # ðŸ”¥ now included in response
                      type: string
                      example: https://dev-docnow-api.onrender.com/uploads/avatars/avatar.png

/auth/login:
  post:
    summary: User login
    tags: [Auth]
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required: [email, password]
            properties:
              email:
                type: string
                format: email
                example: patient@test.com
              password:
                type: string
                format: password
                example: 123456
    responses:
      "200":
        description: Login successful
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  example: Login successful
                token:
                  type: string
                user:
                  type: object
                  properties:
                    id:
                      type: integer
                      example: 1
                    role:
                      type: string
                      example: patient

/auth/logout:
  post:
    summary: Logout user
    tags: [Auth]
    security:
      - bearerAuth: []
    responses:
      "200":
        description: Logout successful
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  example: Logout successful

/auth/verify:
  get:
    summary: Verify user token
    tags: [Auth]
    security:
      - bearerAuth: []
    responses:
      "200":
        description: Token is valid
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  example: true
                user:
                  type: object
                  properties:
                    id:
                      type: integer
                      example: 1
                    email:
                      type: string
                      example: patient@test.com
                    role:
                      type: string
                      example: patient
